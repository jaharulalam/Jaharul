<!DOCTYPE html>  <html lang="en">  
<head>  
    <meta charset="UTF-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">  
    <title>BDG Game - Master Pro Max V2 Premium</title>  
    <style>  
        /* --- ORIGINAL FULL CSS --- */  
        * {   
            box-sizing: border-box;   
            -webkit-tap-highlight-color: transparent;   
            outline: none;   
            margin: 0;   
            padding: 0;   
        }  body {   
        background: #0f1217;   
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;   
        color: #ffffff;   
        display: flex;   
        justify-content: center;   
        align-items: center;   
        min-height: 100vh;   
        overflow: hidden;   
    }  

    .container {   
        width: 100%;   
        max-width: 450px;   
        background: #1a1d22;   
        height: 100vh;   
        display: flex;   
        flex-direction: column;   
        position: relative;   
        box-shadow: 0 0 100px rgba(0,0,0,0.9);  
    }  

    /* Header with Back Button */
    .header {   
        background: #22272d;   
        padding: 15px 22px;   
        display: flex;
        align-items: center;
        justify-content: space-between;
        color: #f3c34d;   
        font-size: 20px;   
        font-weight: 900;   
        border-bottom: 2px solid #333;   
        text-transform: uppercase;  
        letter-spacing: 1px;  
    }  

    .back-btn {
        background: #333;
        color: #fff;
        border: none;
        padding: 8px 15px;
        border-radius: 8px;
        font-size: 14px;
        cursor: pointer;
        font-weight: 800;
    }

    .content {   
        flex: 1;   
        overflow-y: auto;   
        padding-bottom: 60px;   
        scrollbar-width: none;   
    }  
    .content::-webkit-scrollbar { display: none; }  

    .wallet-card {   
        margin: 20px;   
        background: linear-gradient(145deg, #32373e 0%, #1a1d22 100%);   
        border-radius: 25px;   
        padding: 30px;   
        text-align: center;   
        border: 1px solid #444;   
        box-shadow: 0 15px 35px rgba(0,0,0,0.5);   
    }  
    .wallet-bal {   
        font-size: 42px;   
        font-weight: 900;   
        color: #f3c34d;   
        text-shadow: 0 2px 10px rgba(243, 195, 77, 0.3);  
    }  
    .wallet-label {   
        font-size: 14px;   
        color: #aaa;   
        margin-top: 5px;  
        letter-spacing: 1px;  
    }  
    .wallet-btns {   
        display: flex;   
        justify-content: space-between;   
        margin-top: 25px;   
        gap: 15px;   
    }  
    .w-btn {   
        flex: 1;   
        padding: 15px;   
        border-radius: 50px;   
        border: none;   
        font-weight: 800;   
        color: white;   
        cursor: pointer;   
        font-size: 15px;  
        transition: 0.3s;  
    }  
    .withdraw { background: #d94d4d; box-shadow: 0 4px 15px rgba(217, 77, 77, 0.3); }  
    .deposit { background: #2ead6d; box-shadow: 0 4px 15px rgba(46, 173, 109, 0.3); }  

    .game-tabs {   
        display: grid;   
        grid-template-columns: repeat(4, 1fr);   
        gap: 10px;   
        margin: 15px;   
    }  
    .g-tab {   
        background: #2b3038;   
        border-radius: 12px;   
        padding: 15px 5px;   
        text-align: center;   
        cursor: pointer;   
        color: #fff;   
        font-size: 11px;   
        font-weight: 800;  
        border: 2px solid transparent;  
    }  
    .g-tab.active {   
        background: #f3c34d;   
        color: #1a1d22 !important;   
        box-shadow: 0 0 15px rgba(243, 195, 77, 0.4);  
    }  

    .timer-section {   
        margin: 20px;   
        background: #f3c34d;   
        border-radius: 20px;   
        padding: 20px;   
        color: #1a1d22;   
        display: flex;   
        justify-content: space-between;   
        align-items: center;   
    }  
    .timer-val {   
        font-size: 38px;   
        font-weight: 900;   
        font-family: 'Monaco', monospace;   
    }  

    .color-btns { display: flex; justify-content: space-around; margin: 15px; gap: 12px; }  
    .c-btn { flex: 1; padding: 18px; border: none; border-radius: 10px; color: #fff; font-weight: 900; cursor: pointer; font-size: 16px; }  
    .green { background: #2ead6d; } .violet { background: #9b51e0; } .red { background: #d94d4d; }  

    .num-grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: 15px; margin: 20px; }  
    .n-btn {   
        aspect-ratio: 1;   
        border-radius: 50%;   
        border: none;   
        color: white;   
        font-weight: 900;   
        font-size: 20px;   
        display: flex;   
        align-items: center;   
        justify-content: center;   
        cursor: pointer;   
        box-shadow: 0 5px 10px rgba(0,0,0,0.4);  
    }  

    .bs-row { display: flex; margin: 20px; gap: 15px; }  
    .bs-btn { flex: 1; padding: 18px; border: none; font-weight: 900; color: white; font-size: 20px; border-radius: 50px; cursor: pointer; }  
    .big { background: #e6a23c; } .small { background: #409eff; }  

    #adminPanel {   
        position: absolute;   
        top: 0; left: 0;   
        width: 100%; height: 100%;   
        background: #ff3131;   
        z-index: 10000;   
        display: none;   
        padding: 25px;   
        overflow-y: auto;   
        color: #000;   
    }  
    .admin-header { display: flex; justify-content: space-between; align-items: center; border-bottom: 2px solid #000; padding-bottom: 15px; margin-bottom: 20px; }  
    .admin-box { background: rgba(0,0,0,0.15); border-radius: 20px; padding: 20px; margin-bottom: 20px; border: 1px solid rgba(255,255,255,0.2); }  
    .sum-title { font-size: 14px; font-weight: 900; text-transform: uppercase; color: #000; margin-bottom: 10px; text-align: center; }  
    .bet-sum-txt { font-size: 32px; font-weight: 900; color: #fff; text-align: center; display: block; text-shadow: 2px 2px #000; }  
    .admin-input { width: 100%; padding: 20px; border-radius: 15px; border: 3px solid #000; text-align: center; font-size: 28px; font-weight: 900; background: #fff; margin-top: 10px; }  
    .apply-btn { width: 100%; padding: 20px; background: #000; color: #fff; border: none; border-radius: 15px; font-weight: 900; cursor: pointer; font-size: 18px; margin-top: 15px; }  

    .overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.85); display: none; z-index: 1000; backdrop-filter: blur(8px); }  
    .bet-modal { position: fixed; bottom: -100%; left: 50%; transform: translateX(-50%); width: 100%; max-width: 450px; background: #2b3038; border-radius: 30px 30px 0 0; transition: 0.5s cubic-bezier(0.4, 0, 0.2, 1); z-index: 1001; }  
    .bet-modal.active { bottom: 0; }  
      
    .modal-blue-hdr {   
        background: #4fa1f9;   
        padding: 25px 10px 50px 10px;   
        text-align: center;   
        color: #fff;   
        font-size: 20px;  
        font-weight: 900;   
        clip-path: polygon(0 0, 100% 0, 100% 75%, 50% 100%, 0 75%);   
    }  
    .modal-white-sel {   
        background: #fff;   
        color: #4fa1f9;   
        width: 85%;   
        margin: -30px auto 20px auto;   
        padding: 15px;   
        border-radius: 10px;   
        font-weight: 900;   
        text-align: center;   
        font-size: 18px;  
        position: relative;   
        box-shadow: 0 10px 20px rgba(0,0,0,0.3);   
    }  

    .modal-body { padding: 20px 30px; }  
    .row-item { display: flex; align-items: center; margin-bottom: 25px; }  
    .label-txt { width: 100px; font-size: 16px; color: #888; font-weight: 700; }  
    .chip-grid { display: flex; gap: 10px; flex: 1; }  
    .chip { background: #3d444d; color: #fff; border: none; padding: 12px; border-radius: 8px; font-weight: 900; flex: 1; cursor: pointer; font-size: 14px; }  
    .chip.active { background: #4fa1f9; }  
      
    .qty-control { display: flex; align-items: center; background: #1a1d22; border-radius: 8px; border: 1px solid #444; }  
    .qty-btn { background: #4fa1f9; border: none; color: #fff; width: 45px; height: 45px; font-size: 24px; font-weight: 900; cursor: pointer; }  
    .qty-input { background: transparent; border: none; color: #fff; width: 90px; text-align: center; font-size: 20px; font-weight: 900; }  

    .x-grid { display: grid; grid-template-columns: repeat(6, 1fr); gap: 6px; margin-top: 20px; }  
    .x-btn { background: #3d444d; border: none; color: #fff; padding: 12px 0; border-radius: 6px; font-size: 12px; font-weight: 900; cursor: pointer; }  
    .x-btn.active { background: #4fa1f9; }  

    .modal-footer { display: flex; margin-top: 30px; border-top: 1px solid #3d444d; }  
    .f-btn { border: none; padding: 22px; font-weight: 900; cursor: pointer; font-size: 18px; }  
    .f-cancel { background: #3d444d; color: #aaa; flex: 1; }  
    .f-confirm { background: #4fa1f9; color: #fff; flex: 2; }  

    .history-container { background: #2b3038; margin: 20px; border-radius: 20px; overflow: hidden; border: 1px solid #333; }  
    table { width: 100%; border-collapse: collapse; }  
    th { padding: 15px; color: #777; font-size: 13px; text-align: center; border-bottom: 1px solid #3d444d; text-transform: uppercase; font-weight: 900; }  
    td { padding: 18px; border-bottom: 1px solid #333; font-size: 15px; font-weight: 800; text-align: center; }  
    .dot { height: 14px; width: 14px; border-radius: 50%; display: inline-block; box-shadow: 0 0 5px rgba(0,0,0,0.5); }  
</style>

</head>  
<body>  <div class="container">  
    <div id="adminPanel">  
        <div class="admin-header">  
            <h1 style="font-size:26px; font-weight:900;">MASTER CONTROL</h1>  
            <button onclick="hideAdmin()" style="background:#000; color:#fff; border:none; padding:12px 25px; border-radius:10px; font-weight:900;">BACK</button>  
        </div>  <div class="admin-box">  
        <p class="sum-title">Total Bets on Colors</p>  
        <div style="display:flex; justify-content:space-around;">  
            <div><span class="bet-sum-txt" id="sum-Green">0</span><div class="c-btn green" style="width:80px; font-size:12px; height:30px; line-height:30px; text-align:center; padding:0; margin-top:5px;">Green</div></div>  
            <div><span class="bet-sum-txt" id="sum-Violet">0</span><div class="c-btn violet" style="width:80px; font-size:12px; height:30px; line-height:30px; text-align:center; padding:0; margin-top:5px;">Violet</div></div>  
            <div><span class="bet-sum-txt" id="sum-Red">0</span><div class="c-btn red" style="width:80px; font-size:12px; height:30px; line-height:30px; text-align:center; padding:0; margin-top:5px;">Red</div></div>  
        </div>  
    </div>  

    <div class="admin-box">  
        <p class="sum-title">Number-wise Tracking</p>  
        <div class="num-grid" style="margin:0; grid-template-columns: repeat(5, 1fr); gap:10px;">  
            <script>  
                for(let i=0; i<=9; i++) {  
                    let col = (i==0||i==5)?'#9b51e0':(i%2==0?'#d94d4d':'#2ead6d');  
                    document.write(`<div style="text-align:center;"><span class="bet-sum-txt" style="font-size:18px;" id="sum-Num${i}">0</span><div class="n-btn" style="background:${col}; width:45px; height:45px; margin:0 auto; font-size:16px; box-shadow:none;">${i}</div></div>`);  
                }  
            </script>  
        </div>  
    </div>  

    <div class="admin-box" style="text-align:center;">  
        <h2 style="font-weight:900; margin-bottom:15px;">FORCE NEXT WINNER</h2>  
        <input type="number" id="forceInp" class="admin-input" placeholder="Result (0-9)">  
        <button onclick="setForceResult()" class="apply-btn">SAVE RESULT NOW</button>  
        <p id="adminStatus" style="margin-top:20px; font-weight:900; font-size:18px; letter-spacing:1px;">STATUS: AUTO MODE</p>  
    </div>  
</div>  

<div class="header">
    <button class="back-btn" onclick="window.location.href='index.html'">BACK</button>
    <span>BDG GAME MASTER</span>
    <div style="width:45px;"></div> </div>  
  
<div class="content">  
    <div class="wallet-card">  
        <div class="wallet-bal">₹<span id="balDisplay">10000.00</span></div>  
        <div class="wallet-label">Total Game Balance</div>  
        <div class="wallet-btns">  
            <button class="w-btn withdraw">Withdraw</button>  
            <button class="w-btn deposit">Deposit</button>  
        </div>  
    </div>  

    <div class="game-tabs">  
        <div class="g-tab" id="tab-30" onclick="switchGame(30, this)">WinGo 30s</div>  
        <div class="g-tab active" id="tab-60" onclick="switchGame(60, this)">WinGo 1m</div>  
        <div class="g-tab" id="tab-180" onclick="switchGame(180, this)">WinGo 3m</div>  
        <div class="g-tab" id="tab-300" onclick="switchGame(300, this)">WinGo 5m</div>  
    </div>  

    <div class="timer-section">  
        <div>  
            <b id="curGameText" onclick="openAdminCheck()" style="font-size:20px; font-weight:900;">WinGo 1Min</b><br>  
            <span id="periodDisplay" style="font-size:12px; font-weight:700; opacity:0.8;">202601211000100</span>  
        </div>  
        <div class="timer-val" id="timeDisplay">00:00</div>  
    </div>  

    <div class="color-btns">  
        <button class="c-btn green" onclick="openBet('Green')">Green</button>  
        <button class="c-btn violet" onclick="openBet('Violet')">Violet</button>  
        <button class="c-btn red" onclick="openBet('Red')">Red</button>  
    </div>  

    <div class="num-grid" id="mainNumberGrid"></div>  

    <div class="bs-row">  
        <button class="bs-btn small" onclick="openBet('Small')">Small</button>  
        <button class="bs-btn big" onclick="openBet('Big')">Big</button>  
    </div>  

    <div class="history-container">  
        <table>  
            <thead>  
                <tr><th>Period</th><th>Num</th><th>Size</th><th>Color</th></tr>  
            </thead>  
            <tbody id="historyBody"></tbody>  
        </table>  
    </div>  
</div>  

<div class="overlay" id="overlay" onclick="closeModal()"></div>  
<div class="bet-modal" id="betModal">  
    <div class="modal-blue-hdr">WinGo 1 Min</div>  
    <div class="modal-white-sel" id="selType">Select Small</div>  
      
    <div class="modal-body">  
        <div class="row-item">  
            <div class="label-txt">Balance</div>  
            <div class="chip-grid">  
                <button class="chip active" onclick="setBase(1, this)">1</button>  
                <button class="chip" onclick="setBase(10, this)">10</button>  
                <button class="chip" onclick="setBase(100, this)">100</button>  
                <button class="chip" onclick="setBase(1000, this)">1000</button>  
            </div>  
        </div>  

        <div class="row-item" style="justify-content: space-between;">  
            <div class="label-txt">Quantity</div>  
            <div class="qty-control">  
                <button class="qty-btn" onclick="changeQty(-1)">-</button>  
                <input type="number" class="qty-input" id="qtyInput" value="1" oninput="updateTotal()">  
                <button class="qty-btn" onclick="changeQty(1)">+</button>  
            </div>  
        </div>  

        <div class="x-grid">  
            <button class="x-btn active" onclick="setX(1, this)">X1</button>  
            <button class="x-btn" onclick="setX(5, this)">X5</button>  
            <button class="x-btn" onclick="setX(10, this).">X10</button>  
            <button class="x-btn" onclick="setX(20, this)">X20</button>  
            <button class="x-btn" onclick="setX(50, this)">X50</button>  
            <button class="x-btn" onclick="setX(100, this)">X100</button>  
        </div>  
    </div>  

    <div class="modal-footer">  
        <button class="f-btn f-cancel" onclick="closeModal()">Cancel</button>  
        <button class="f-confirm f-btn" onclick="confirmBet()">Total amount ₹<span id="totalTxt">1.00</span></button>  
    </div>  
</div>

</div>  <script>  
    /* --- LOGIC REMAINED SAME --- */  
    let wallet = parseFloat(localStorage.getItem('user_balance')) || 10000.00;  
    let currentSel = "";  
    let baseAmount = 1;  
    let multiplier = 1;  
    let adminClicks = 0;  
    let forceResult = null;  
    let adminBets = {};  
    let currentMode = 60; 
    let activeBets = []; 
  
    function init() {  
        const grid = document.getElementById('mainNumberGrid');  
        for(let i=0; i<=9; i++) {  
            let b = document.createElement('div');  
            b.className = 'n-btn';  
            b.innerText = i;  
            b.style.background = (i==0||i==5)?'linear-gradient(135deg,#9b51e0,#d94d4d)':(i%2==0?'#d94d4d':'#2ead6d');  
            b.onclick = () => openBet('Number '+i);  
            grid.appendChild(b);  
            adminBets['Num'+i] = 0;  
        }  
        ['Green','Violet','Red','Big','Small'].forEach(k => adminBets[k] = 0);  
        updateWalletUI();  
        
        let storedHistory = localStorage.getItem('master_game_history');
        if(!storedHistory) {
            generateHistory(); 
        } else {
            displayStoredData();
        }
        
        startSyncClock();  
    }  

    function startSyncClock() {
        setInterval(() => {
            let now = new Date();
            let totalSec = (now.getHours() * 3600) + (now.getMinutes() * 60) + now.getSeconds();
            let remaining = currentMode - (totalSec % currentMode);
            
            let min = Math.floor(remaining / 60);
            let sec = remaining % 60;
            document.getElementById('timeDisplay').innerText = (min < 10 ? "0"+min : min) + ":" + (sec < 10 ? "0"+sec : sec);

            if(remaining === currentMode) {
                updatePermanentHistory();
                resetRoundData();
            }
        }, 1000);
    }

    function updatePermanentHistory() {
        let history = JSON.parse(localStorage.getItem('master_game_history')) || [];
        let now = new Date();
        let basePeriod = now.getFullYear().toString() + (now.getMonth()+1).toString().padStart(2,'0') + now.getDate().toString().padStart(2,'0') + "1000" + (Math.floor(Date.now()/1000) % 500);
        
        let n = (forceResult !== null) ? parseInt(forceResult) : Math.floor(Math.random()*10);  
        let c = (n%2==0)?'#d94d4d':'#2ead6d'; if(n==0||n==5) c='#9b51e0';
        let s = (n>=5?'Big':'Small');
        
        let totalWin = 0;
        activeBets.forEach(bet => {
            let won = false;
            let rate = 1.95; 

            if (bet.type === 'Num'+n) { won = true; rate = 8.82; }
            else if (bet.type === 'Big' && n >= 5) { won = true; }
            else if (bet.type === 'Small' && n < 5) { won = true; }
            else if (bet.type === 'Green' && (n===1||n===3||n===7||n===9)) { won = true; }
            else if (bet.type === 'Red' && (n===2||n===4||n===6||n===8)) { won = true; }
            else if (bet.type === 'Violet' && (n===0||n===5)) { won = true; rate = 4.41; }
            else if ((bet.type === 'Green' || bet.type === 'Red') && (n===0||n===5)) { won = true; rate = 1.47; } 

            if (won) totalWin += (bet.amount * rate);
        });

        if (totalWin > 0) {
            wallet += totalWin;
            updateWalletUI();
        }

        activeBets = []; 
        
        let newEntry = { period: basePeriod, num: n, size: s, color: c };
        history.unshift(newEntry);
        if(history.length > 10) history.pop(); 
        
        localStorage.setItem('master_game_history', JSON.stringify(history));
        displayStoredData();
    }

    function displayStoredData() {
        let history = JSON.parse(localStorage.getItem('master_game_history')) || [];
        let hBody = document.getElementById('historyBody');  
        let html = "";  
        history.forEach(item => {
            html += `<tr><td style="color:#aaa">${item.period}</td><td style="color:${item.color}">${item.num}</td><td>${item.size}</td><td><span class="dot" style="background:${item.color}"></span></td></tr>`;
        });
        hBody.innerHTML = html;
        if(history.length > 0) document.getElementById('periodDisplay').innerText = parseInt(history[0].period) + 1;
    }
  
    function generateHistory() {  
        let initialData = [];
        let now = new Date();
        let base = now.getFullYear().toString() + (now.getMonth()+1).toString().padStart(2,'0') + now.getDate().toString().padStart(2,'0') + "1000";
        for(let i=0; i<10; i++) {
            let n = Math.floor(Math.random()*10);
            let c = (n%2==0)?'#d94d4d':'#2ead6d'; if(n==0||n==5) c='#9b51e0';
            initialData.push({ period: parseInt(base) - i, num: n, size: (n>=5?'Big':'Small'), color: c });
        }
        localStorage.setItem('master_game_history', JSON.stringify(initialData));
        displayStoredData();
    }

    function switchGame(sec, el) {  
        currentMode = sec;
        document.querySelectorAll('.g-tab').forEach(t => t.classList.remove('active'));  
        el.classList.add('active');  
        document.getElementById('curGameText').innerText = "WinGo " + (sec >= 60 ? (sec/60)+"m" : sec+"s");  
        displayStoredData();
    }

    function openBet(type) {  
        currentSel = type.replace('Number ', 'Num');  
        document.getElementById('selType').innerText = "Select " + type;  
        document.getElementById('betModal').classList.add('active');  
        document.getElementById('overlay').style.display = 'block';  
        updateTotal();  
    }  
  
    function closeModal() {  
        document.getElementById('betModal').classList.remove('active');  
        document.getElementById('overlay').style.display = 'none';  
    }  
  
    function setBase(val, btn) {  
        baseAmount = val;  
        document.querySelectorAll('.chip').forEach(c => c.classList.remove('active'));  
        btn.classList.add('active');  
        updateTotal();  
    }  
  
    function setX(val, btn) {  
        multiplier = val;  
        document.querySelectorAll('.x-btn').forEach(b => b.classList.remove('active'));  
        btn.classList.add('active');  
        updateTotal();  
    }  
  
    function changeQty(val) {  
        let input = document.getElementById('qtyInput');  
        let current = parseInt(input.value) || 0;  
        input.value = Math.max(1, current + val);  
        updateTotal();  
    }  
  
    function updateTotal() {  
        let q = parseInt(document.getElementById('qtyInput').value) || 1;  
        let total = baseAmount * q * multiplier;  
        document.getElementById('totalTxt').innerText = total.toFixed(2);  
    }  
  
    function confirmBet() {  
        let amount = parseFloat(document.getElementById('totalTxt').innerText);  
        if(wallet >= amount) {  
            wallet -= amount;  
            activeBets.push({ type: currentSel, amount: amount });
            if(adminBets[currentSel] !== undefined) adminBets[currentSel] += amount;  
            updateWalletUI();  
            updateAdminSums();  
            closeModal();  
        } else { alert("Insufficient Funds!"); }  
    }  
  
    function resetRoundData() {  
        for(let key in adminBets) adminBets[key] = 0;  
        forceResult = null;  
        document.getElementById('adminStatus').innerText = "STATUS: AUTO MODE";  
        updateAdminSums();
    }  
  
    function updateAdminSums() {  
        for(let key in adminBets) {  
            let el = document.getElementById('sum-'+key);  
            if(el) el.innerText = adminBets[key].toFixed(0);  
        }  
    }  
  
    function openAdminCheck() {  
        adminClicks++;  
        if(adminClicks >= 3) { document.getElementById('adminPanel').style.display = 'block'; adminClicks = 0; }  
    }  
  
    function hideAdmin() { document.getElementById('adminPanel').style.display = 'none'; }  
  
    function setForceResult() {  
        let v = document.getElementById('forceInp').value;  
        if(v !== "" && v >= 0 && v <= 9) {  
            forceResult = v;  
            document.getElementById('adminStatus').innerText = "FORCED: NEXT IS " + v;  
            document.getElementById('forceInp').value = "";  
        }  
    }  
  
    function updateWalletUI() { 
        document.getElementById('balDisplay').innerText = wallet.toFixed(2); 
        localStorage.setItem('user_balance', wallet);
    }  
    window.onload = init;  
</script>  </body>  
</html>
